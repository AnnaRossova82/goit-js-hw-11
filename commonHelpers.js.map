{"version":3,"file":"commonHelpers.js","sources":["../src/partials/js/pixabay-api.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\ndocument.addEventListener('DOMContentLoaded', function () {\n    const searchForm = document.getElementById('searchForm');\n    const searchInput = document.getElementById('searchInput');\n    const galleryContainer = document.getElementById('gallery');\n   \n    const lightbox = new SimpleLightbox('.gallery-container a');\n\n      \n    searchForm.addEventListener('submit', function (e) {\n      e.preventDefault();\n      const searchTerm = searchInput.value.trim();\n  \n      if (searchTerm === '') {\n        iziToast.warning({\n          title: 'Warning',\n          message: 'Please enter a search term.',\n          position: 'topCenter',\n        });\n        return;\n      }\n      galleryContainer.innerHTML = '';\n      loader.style.display = 'block'; \n       fetchImages(searchTerm);\n    });\n  \n    function fetchImages(searchTerm) {\n      const spinner = new Spinner().spin(loader);\n  \n \n      const apiKey = '42441729-7dc314f47a8382b16bbe5b871';\n      const apiUrl = `https://pixabay.com/api/?key=${apiKey}&q=${searchTerm}&image_type=photo&orientation=horizontal&safesearch=true`;\n  \n      fetch(apiUrl)\n      .then(response => response.json())\n      .then(data => {\n        loader.style.display = 'none';\n     \n          if (data.hits.length > 0) {\n            displayImages(data.hits);\n          } else {\n\n            iziToast.info({\n              title: 'Info',\n              message: 'Sorry, there are no images matching your search query. Please try again!',\n              position: 'topCenter',\n            });\n          }\n        })\n        .catch(error => {\n           loader.style.display = 'none';\n          console.error('Error fetching images:', error);\n      \n          iziToast.error({\n            title: 'Error',\n            message: 'An error occurred while fetching images. Please try again later.',\n            position: 'topCenter',\n          });\n        });\n    }\n  \n    function displayImages(images) {\n      images.forEach(image => {\n        const card = document.createElement('div');\n        card.classList.add('card');\n\n      const a = document.createElement('a');\n      a.href = image.largeImageURL;\n      a.setAttribute('data-lightbox', 'gallery');\n  \n        const img = document.createElement('img');\n        img.src = image.webformatURL;\n        img.alt = image.tags;\n\n        a.appendChild(img);\n  \n        const cardInfo = document.createElement('div');\n        cardInfo.classList.add('card-info');\n  \n        const title = document.createElement('h3');\n        title.textContent = image.tags;\n  \n        const details = document.createElement('p');\n        details.textContent = `Likes: ${image.likes} | Views: ${image.views} | Comments: ${image.comments} | Downloads: ${image.downloads}`;\n  \n        cardInfo.appendChild(title);\n        cardInfo.appendChild(details);\n  \n        card.appendChild(a);\n        card.appendChild(cardInfo);\n  \n        galleryContainer.appendChild(card);\n        lightbox.refresh();\n      });\n    }\n  });\n\n"],"names":["searchForm","searchInput","galleryContainer","lightbox","SimpleLightbox","e","searchTerm","iziToast","fetchImages","apiUrl","response","data","displayImages","error","images","image","card","a","img","cardInfo","title","details"],"mappings":"6vBAMA,SAAS,iBAAiB,mBAAoB,UAAY,CACtD,MAAMA,EAAa,SAAS,eAAe,YAAY,EACjDC,EAAc,SAAS,eAAe,aAAa,EACnDC,EAAmB,SAAS,eAAe,SAAS,EAEpDC,EAAW,IAAIC,EAAe,sBAAsB,EAG1DJ,EAAW,iBAAiB,SAAU,SAAUK,EAAG,CACjDA,EAAE,eAAc,EAChB,MAAMC,EAAaL,EAAY,MAAM,KAAI,EAEzC,GAAIK,IAAe,GAAI,CACrBC,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,8BACT,SAAU,WACpB,CAAS,EACD,MACD,CACDL,EAAiB,UAAY,GAC7B,OAAO,MAAM,QAAU,QACtBM,EAAYF,CAAU,CAC7B,CAAK,EAED,SAASE,EAAYF,EAAY,CACf,IAAI,QAAO,EAAG,KAAK,MAAM,EAIzC,MAAMG,EAAS,qEAA4CH,CAAU,2DAErE,MAAMG,CAAM,EACX,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQ,CACZ,OAAO,MAAM,QAAU,OAEjBA,EAAK,KAAK,OAAS,EACrBC,EAAcD,EAAK,IAAI,EAGvBJ,EAAS,KAAK,CACZ,MAAO,OACP,QAAS,2EACT,SAAU,WACxB,CAAa,CAEb,CAAS,EACA,MAAMM,GAAS,CACb,OAAO,MAAM,QAAU,OACxB,QAAQ,MAAM,yBAA0BA,CAAK,EAE7CN,EAAS,MAAM,CACb,MAAO,QACP,QAAS,mEACT,SAAU,WACtB,CAAW,CACX,CAAS,CACJ,CAED,SAASK,EAAcE,EAAQ,CAC7BA,EAAO,QAAQC,GAAS,CACtB,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,MAAM,EAE3B,MAAMC,EAAI,SAAS,cAAc,GAAG,EACpCA,EAAE,KAAOF,EAAM,cACfE,EAAE,aAAa,gBAAiB,SAAS,EAEvC,MAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMH,EAAM,aAChBG,EAAI,IAAMH,EAAM,KAEhBE,EAAE,YAAYC,CAAG,EAEjB,MAAMC,EAAW,SAAS,cAAc,KAAK,EAC7CA,EAAS,UAAU,IAAI,WAAW,EAElC,MAAMC,EAAQ,SAAS,cAAc,IAAI,EACzCA,EAAM,YAAcL,EAAM,KAE1B,MAAMM,EAAU,SAAS,cAAc,GAAG,EAC1CA,EAAQ,YAAc,UAAUN,EAAM,KAAK,aAAaA,EAAM,KAAK,gBAAgBA,EAAM,QAAQ,iBAAiBA,EAAM,SAAS,GAEjII,EAAS,YAAYC,CAAK,EAC1BD,EAAS,YAAYE,CAAO,EAE5BL,EAAK,YAAYC,CAAC,EAClBD,EAAK,YAAYG,CAAQ,EAEzBjB,EAAiB,YAAYc,CAAI,EACjCb,EAAS,QAAO,CACxB,CAAO,CACF,CACL,CAAG"}